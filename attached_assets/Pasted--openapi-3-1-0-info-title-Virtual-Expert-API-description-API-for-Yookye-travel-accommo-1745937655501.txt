{"openapi":"3.1.0","info":{"title":"Virtual Expert API","description":"API for Yookye travel accommodation and experience search with JWT authentication","version":"1.0.0"},"paths":{"/api/auth/token":{"post":{"tags":["auth"],"summary":"Get Token","operationId":"get_token_api_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_get_token_api_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","operationId":"logout_api_auth_logout_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Get Me","operationId":"get_me_api_auth_me_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/register":{"post":{"tags":["admin"],"summary":"Register","operationId":"register_api_admin_register_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users":{"get":{"tags":["admin"],"summary":"Get Users","operationId":"get_users_api_admin_users_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get Users Api Admin Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}":{"get":{"tags":["admin"],"summary":"Get User","operationId":"get_user_api_admin_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update User","operationId":"update_user_api_admin_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete User","operationId":"delete_user_api_admin_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search":{"post":{"tags":["auth","search"],"summary":"Search Accommodations","description":"Start a new accommodation search job","operationId":"search_accommodations_api_search_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccommodationSearchInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search/{job_id}":{"get":{"tags":["auth","search"],"summary":"Get Job Status","description":"Get the status of a search job","operationId":"get_job_status_api_search__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search/{job_id}/result":{"get":{"tags":["auth","search"],"summary":"Get Job Result","description":"Get the result of a completed search job","operationId":"get_job_result_api_search__job_id__result_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/docs/swagger.yaml":{"get":{"tags":["docs"],"summary":"Get Swagger Yaml","description":"Returns the OpenAPI schema in YAML format","operationId":"get_swagger_yaml_api_docs_swagger_yaml_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AccommodationSearchInput":{"properties":{"trasporti":{"$ref":"#/components/schemas/Trasporti"},"luoghi_da_non_perdere":{"$ref":"#/components/schemas/LuoghiDaNonPerdere"},"viaggiatori":{"$ref":"#/components/schemas/Viaggiatori"},"date":{"$ref":"#/components/schemas/Date"},"budget_per_persona_giorno":{"$ref":"#/components/schemas/BudgetPerPersonaGiorno"},"sistemazione":{"$ref":"#/components/schemas/Sistemazione"},"esigenze_particolari":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Esigenze Particolari"},"interessi":{"anyOf":[{"$ref":"#/components/schemas/Interessi"},{"type":"null"}]},"tipologia_viaggiatore":{"anyOf":[{"$ref":"#/components/schemas/TipologiaViaggiatore"},{"type":"null"}]},"ritmo_ideale":{"anyOf":[{"$ref":"#/components/schemas/RitmoIdeale"},{"type":"null"}]}},"type":"object","required":["luoghi_da_non_perdere","viaggiatori","date","budget_per_persona_giorno","sistemazione"],"title":"AccommodationSearchInput"},"Body_get_token_api_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_get_token_api_auth_token_post"},"BudgetPerPersonaGiorno":{"properties":{"economico":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Economico","description":"Budget economico","default":false},"fascia_media":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Fascia Media","description":"Budget fascia media","default":false},"comfort":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Comfort","description":"Budget comfort","default":false},"lusso":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Lusso","description":"Budget lusso","default":false},"ultra_lusso":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Ultra Lusso","description":"Budget ultra lusso","default":false}},"type":"object","title":"BudgetPerPersonaGiorno"},"Date":{"properties":{"check_in_time":{"type":"string","title":"Check In Time","description":"Data di check-in in formato YYYY-MM-DD"},"check_out_time":{"type":"string","title":"Check Out Time","description":"Data di check-out in formato YYYY-MM-DD"}},"type":"object","required":["check_in_time","check_out_time"],"title":"Date"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Interessi":{"properties":{"storia_e_arte":{"$ref":"#/components/schemas/InteressiStoriaArte"},"Food_&_wine":{"$ref":"#/components/schemas/InteressiFoodWine"},"vacanze_attive":{"$ref":"#/components/schemas/InteressiVacanzeAttive"},"vita_locale":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Vita Locale","default":false},"salute_e_benessere":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Salute E Benessere","default":false}},"type":"object","required":["storia_e_arte","Food_&_wine","vacanze_attive"],"title":"Interessi"},"InteressiFoodWine":{"properties":{"visite_alle_cantine":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Visite Alle Cantine","default":false},"corsi_di_cucina":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Corsi Di Cucina","default":false},"soggiorni_nella_wine_country":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Soggiorni Nella Wine Country","default":false}},"type":"object","title":"InteressiFoodWine"},"InteressiStoriaArte":{"properties":{"musei_e_gallerie":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Musei E Gallerie","default":false},"siti_archeologici":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Siti Archeologici","default":false},"monumenti_e_architettura":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Monumenti E Architettura","default":false}},"type":"object","title":"InteressiStoriaArte"},"InteressiVacanzeAttive":{"properties":{"trekking_di_piu_giorni":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Trekking Di Piu Giorni","default":false},"tour_in_e_bike_di_piu_giorni":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Tour In E Bike Di Piu Giorni","default":false},"sci_snowboard_di_piu_giorni":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Sci Snowboard Di Piu Giorni","default":false}},"type":"object","title":"InteressiVacanzeAttive"},"JobStatus":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","title":"Status"},"result_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Path"}},"type":"object","required":["job_id","status"],"title":"JobStatus"},"LuoghiDaNonPerdere":{"properties":{"city":{"type":"string","title":"City","description":"La città di destinazione"},"luoghi_specifici":{"type":"boolean","title":"Luoghi Specifici","description":"Indicatore dei luoghi specifici"}},"type":"object","required":["city","luoghi_specifici"],"title":"LuoghiDaNonPerdere"},"RitmoIdeale":{"properties":{"veloce":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Veloce","default":false},"moderato":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Moderato","default":false},"rilassato":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rilassato","default":false}},"type":"object","title":"RitmoIdeale"},"SearchResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["job_id","status","message"],"title":"SearchResponse"},"Sistemazione":{"properties":{"livello":{"$ref":"#/components/schemas/SistemazioneLivello"},"tipologia":{"$ref":"#/components/schemas/SistemazioneTipologia"}},"type":"object","required":["livello","tipologia"],"title":"Sistemazione"},"SistemazioneLivello":{"properties":{"fascia_media":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Fascia Media","default":false},"boutique":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Boutique","default":false},"eleganti":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Eleganti","default":false}},"type":"object","title":"SistemazioneLivello"},"SistemazioneTipologia":{"properties":{"hotel":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Hotel","default":false},"b&b":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"B&B","default":false},"agriturismo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Agriturismo","default":false},"villa":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Villa","default":false},"appartamento":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Appartamento","default":false},"glamping":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Glamping","default":false}},"type":"object","title":"SistemazioneTipologia"},"TipologiaViaggiatore":{"properties":{"family":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Family","default":false},"amici":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Amici","default":false},"coppia":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Coppia","default":false},"single":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Single","default":false}},"type":"object","title":"TipologiaViaggiatore"},"Trasporti":{"properties":{"conosci_arrivo_e_partenza":{"type":"boolean","title":"Conosci Arrivo E Partenza","description":"Indica se sono conosciuti i punti di arrivo e partenza"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Descrizione dei punti di arrivo/partenza"},"auto_propria":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Propria","description":"Indica se si viaggia con auto propria","default":false},"Unknown":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Unknown","description":"Indica se i dettagli del trasporto sono sconosciuti","default":false}},"type":"object","required":["conosci_arrivo_e_partenza"],"title":"Trasporti"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"roles":{"items":{"type":"string"},"type":"array","title":"Roles","default":["user"]}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"roles":{"items":{"type":"string"},"type":"array","title":"Roles"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["user_id","username","email","full_name","roles","created_at","updated_at"],"title":"UserResponse"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Viaggiatori":{"properties":{"adults_number":{"type":"integer","minimum":1.0,"title":"Adults Number","description":"Numero di adulti"},"children_number":{"type":"integer","title":"Children Number","description":"Numero di bambini"},"baby_number":{"type":"integer","title":"Baby Number","description":"Numero di neonati"}},"type":"object","required":["adults_number","children_number","baby_number"],"title":"Viaggiatori"}}}}